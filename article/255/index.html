<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="generator" content="Hugo 0.75.1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.sambaiz.net/index.xml">
  <link rel="icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">

  <meta name="theme-color" content="#41a248">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@sambaiz">
  
  <title>貪欲法(Greedy algorithm)で問題を解く - sambaiz-net</title>
  <meta name="twitter:title" content="貪欲法(Greedy algorithm)で問題を解く - sambaiz-net">
  <meta property='og:title' content="貪欲法(Greedy algorithm)で問題を解く - sambaiz-net">
  <meta property="og:type" content="article">
  
  <meta name="description" content="貪欲法">
  <meta name="twitter:description" content="貪欲法">
  
  

  <meta property="og:url" content="https://www.sambaiz.net/article/255/">
  <meta property="og:image" content="https://www.sambaiz.net/images/my_l.jpg">
  <meta name="twitter:image" content="https://www.sambaiz.net/images/my.jpg" />
  <meta name="google-site-verification" content="CEqNYjzc4Y7hb3FY7uUkmllGzeDc40brBwQJixeH61Q" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https:\/\/www.sambaiz.net\/"
    },
    "headline": "貪欲法(Greedy algorithm)で問題を解く - sambaiz-net",
    "datePublished": "2020-01-13T21:17:00JST",
    "dateModified": "2020-01-13T21:17:00JST",
    "author": {
      "@type": "Person",
      "name": "sambaiz",
      "image": "https:\/\/www.sambaiz.net\/images/my.jpg"
    },
    "publisher": {
      "@type": "Person",
      "name": "sambaiz-net",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/www.sambaiz.net\/images/my.jpg",
        "height": 60,
        "width": 60
      }
    },
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/www.sambaiz.net\/images/my.jpg",
      "height": 138,
      "width": 138
    },
    "description": "貪欲法"
  }
</script>
</head>

<body>
  <div canvas="container" id="container">
    <header>
      <div class="title">
        <img src="https://www.sambaiz.net/images/my.png" width="60px" height="60px" />
        <a class="nl" href="https://www.sambaiz.net/">sambaiz-net</a>
      </div>

      <div>
        <a class="nl" href="https://twitter.com/sambaiz"><i class="fa fa-2x fa-twitter"></i></a>
        <a class="nl" href="https://github.com/sambaiz"><i class="fa fa-2x fa-github"></i></a>
        <style>
          .filmarks-base {
            display: inline-block;
            width: 29px;
            height: 29px;
          }

          .filmarks {
            display: inline-block;
            width: 25px;
            height: 25px;
            background: url(/image/filmarks.svg) no-repeat;
            background-size: 450%;
            position: relative;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          }
        </style>
        <div class="filmarks-base">
          <a href="https://filmarks.com/users/sambaiz" class="filmarks"></a>
        </div>
      </div>
    </header>

<div class="container">

  <div class="row">
    <div class="col-md-12">

      <article class="single">
        <div class="single body">
          <h1>貪欲法(Greedy algorithm)で問題を解く</h1>
          <p>(2020-01-13)</p>
          <p>貪欲法(Greedy algorithm)は問題を分割し、それぞれにおいて貪欲に最適な選択をしていくアルゴリズムの総称。
必ずしも最適解になるとは限らないが、うまくいけば簡潔に計算量を減らすことができる。</p>
<h2 id="best-time-to-buy-and-sell-stock-ii---leetcodehttpsleetcodecomproblemsbest-time-to-buy-and-sell-stock-ii"><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/">Best Time to Buy and Sell Stock II - LeetCode</a></h2>
<p>配列で株価が与えられ、売買して得られる最大の利益を返す問題。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-fallback" data-lang="fallback">Say you have an array for which the ith element is the price of a given stock on day i.
Design an algorithm to find the maximum profit. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times).

Example 1:
Input: [7,1,5,3,6,4]
Output: 7
Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4.
             Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.
</code></pre></div><p>局所的な利益の最大化が単純に全体の利益の最大化になるので、上がるなら持ち続け、下がるなら売るのが最適。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-cpp" data-lang="cpp"><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Solution</span> {
<span style="color:#ff79c6">public</span><span style="color:#ff79c6">:</span>
    <span style="color:#8be9fd">int</span> maxProfit(vector<span style="color:#ff79c6">&lt;</span><span style="color:#8be9fd">int</span><span style="color:#ff79c6">&gt;&amp;</span> prices) {
        <span style="color:#ff79c6">if</span> (prices.size() <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span>) {
            <span style="color:#ff79c6">return</span> <span style="color:#bd93f9">0</span>;
        }
        <span style="color:#8be9fd">int</span> ret <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span>;
        <span style="color:#8be9fd">int</span> buyidx <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span>;
        <span style="color:#ff79c6">for</span> (<span style="color:#8be9fd">int</span> i <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>; i <span style="color:#ff79c6">&lt;</span> prices.size(); i<span style="color:#ff79c6">++</span>) {
            <span style="color:#ff79c6">if</span> (prices[i] <span style="color:#ff79c6">&gt;=</span> prices[i<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span>]) {
                <span style="color:#ff79c6">continue</span>;
            }
            ret <span style="color:#ff79c6">+=</span> prices[i<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span>] <span style="color:#ff79c6">-</span> prices[buyidx];
            buyidx <span style="color:#ff79c6">=</span> i;
        }
        ret <span style="color:#ff79c6">+=</span> prices[prices.size()<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span>] <span style="color:#ff79c6">-</span> prices[buyidx];
        <span style="color:#ff79c6">return</span> ret;
    }
};
</code></pre></div><p><a href="https://leetcode.com/problems/wiggle-subsequence/">Wiggle Subsequence - LeetCode</a>も同様に解ける。</p>
<h2 id="jump-game---leetcodehttpsleetcodecomproblemsjump-game"><a href="https://leetcode.com/problems/jump-game/">Jump Game - LeetCode</a></h2>
<p>最大配列の数字の分進めて、最初のindexから最後のindexに到達できるかを返す問題。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-fallback" data-lang="fallback">Given an array of non-negative integers, you are initially positioned at the first index of the array.
Each element in the array represents your maximum jump length at that position.
Determine if you are able to reach the last index.

Example 1:
Input: [2,3,1,1,4]
Output: true
Explanation: Jump 1 step from index 0 to 1, then 3 steps to the last index.
</code></pre></div><p>前から探索するといくつ進めばいいのか分からないので、
後ろから辿り、終わりまで到達できる地点を見つけたら、次はその地点まで到達できる地点を探すというのを繰り返し、先頭まで繋がるかどうかで判定する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-cpp" data-lang="cpp"><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Solution</span> {
<span style="color:#ff79c6">public</span><span style="color:#ff79c6">:</span>
    <span style="color:#8be9fd">bool</span> canJump(vector<span style="color:#ff79c6">&lt;</span><span style="color:#8be9fd">int</span><span style="color:#ff79c6">&gt;&amp;</span> nums) {
        <span style="color:#8be9fd">int</span> pos <span style="color:#ff79c6">=</span> nums.size() <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">1</span>;
        <span style="color:#ff79c6">for</span> (<span style="color:#8be9fd">int</span> i <span style="color:#ff79c6">=</span> nums.size() <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">2</span>; i <span style="color:#ff79c6">&gt;=</span> <span style="color:#bd93f9">0</span>; i<span style="color:#ff79c6">--</span>) {
            <span style="color:#ff79c6">if</span> (pos <span style="color:#ff79c6">&lt;=</span> i <span style="color:#ff79c6">+</span> nums[i]) {
                pos <span style="color:#ff79c6">=</span> i;   
            }
        }
        <span style="color:#ff79c6">return</span> pos <span style="color:#ff79c6">==</span> <span style="color:#bd93f9">0</span>;
    }
};
</code></pre></div><h2 id="jump-game-ii---leetcodehttpsleetcodecomproblemsjump-game-ii"><a href="https://leetcode.com/problems/jump-game-ii/">Jump Game II - LeetCode</a></h2>
<p>Jump Gameの最短ジャンプ回数を返す版。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-fallback" data-lang="fallback">Given an array of non-negative integers, you are initially positioned at the first index of the array.
Each element in the array represents your maximum jump length at that position.
Your goal is to reach the last index in the minimum number of jumps.

Example:
Input: [2,3,1,1,4]
Output: 2
Explanation: The minimum number of jumps to reach the last index is 2.
    Jump 1 step from index 0 to 1, then 3 steps to the last index.
</code></pre></div><p>後ろから辿っていくのはJump Gameと同様だが、最短回数にするため、到達できる地点を見つけるたびにそれまでの地点に止まる必要があるかを確認する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-cpp" data-lang="cpp"><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Solution</span> {
<span style="color:#ff79c6">public</span><span style="color:#ff79c6">:</span>
    <span style="color:#8be9fd">int</span> jump(vector<span style="color:#ff79c6">&lt;</span><span style="color:#8be9fd">int</span><span style="color:#ff79c6">&gt;&amp;</span> nums) {
        <span style="color:#ff79c6">if</span> (nums.size() <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span>) {
            <span style="color:#ff79c6">return</span> <span style="color:#bd93f9">0</span>;
        }
        <span style="color:#8be9fd">int</span> pos <span style="color:#ff79c6">=</span> nums.size() <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">1</span>;
        deque<span style="color:#ff79c6">&lt;</span><span style="color:#8be9fd">int</span><span style="color:#ff79c6">&gt;</span> stops <span style="color:#ff79c6">=</span> {pos};
        <span style="color:#ff79c6">for</span> (<span style="color:#8be9fd">int</span> i <span style="color:#ff79c6">=</span> nums.size() <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">2</span>; i <span style="color:#ff79c6">&gt;=</span> <span style="color:#bd93f9">0</span>; i<span style="color:#ff79c6">--</span>) {
            <span style="color:#ff79c6">if</span> (pos <span style="color:#ff79c6">&lt;=</span> i <span style="color:#ff79c6">+</span> nums[i]) {
                stops.push_back(pos);
                pos <span style="color:#ff79c6">=</span> i;
                <span style="color:#ff79c6">while</span>(stops.size() <span style="color:#ff79c6">&gt;=</span> <span style="color:#bd93f9">2</span>) {
                    <span style="color:#ff79c6">if</span> (stops[stops.size() <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">2</span>] <span style="color:#ff79c6">&gt;</span> i <span style="color:#ff79c6">+</span> nums[i]) {
                        <span style="color:#ff79c6">break</span>;
                    }
                    stops.pop_back();
                }
            }
        }
        <span style="color:#ff79c6">return</span> stops.size();
    }
};
</code></pre></div>
        </div>
      </article>
    </div>
  </div>
</div>

</div>

<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-39190067-3', 'auto');
  ga('send', 'pageview');
</script>


</body>

</html>