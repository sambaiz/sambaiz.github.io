<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Newrelic on sambaiz-net</title>
    <link>https://www.sambaiz.net/en/tags/newrelic/</link>
    <description>Recent content in Newrelic on sambaiz-net</description>
    <generator>Hugo</generator>
    <language>en</language>
    <copyright>sambaiz-net</copyright>
    <lastBuildDate>Thu, 23 May 2024 02:22:00 +0900</lastBuildDate>
    <atom:link href="https://www.sambaiz.net/en/tags/newrelic/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Install Prometheus with CDK and remote write aggregated data to New Relic with recording rules to save the amount of data</title>
      <link>https://www.sambaiz.net/en/article/487/</link>
      <pubDate>Thu, 23 May 2024 02:22:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/487/</guid>
      <description>&lt;p&gt;Prometheus&amp;rsquo; &lt;a href=&#34;https://prometheus.io/docs/prometheus/2.52/configuration/recording_rules/&#34;&gt;recording rules&lt;/a&gt; is a feature that allows you to create new metrics from existing metrics in PromQL. This can save the amount of data sent to New Relic by sending aggregated data compared to sending raw data, but Prometheus in newrelic-prometheus-configurator included in newrelic-bundle is in Agent mode, so it &lt;a href=&#34;https://github.com/prometheus/prometheus/blob/v2.52.0/config/config.go#L124&#34;&gt;doesn’t support&lt;/a&gt; Recording rules.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/466/&#34;&gt;Install newrelic-bundle to EKS cluster with CDK and monitor it - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;So I install my own Prometheus using &lt;a href=&#34;https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus&#34;&gt;Helm&lt;/a&gt; and do remote write.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Receive NewRelic alerts on Lambda through EventBridge</title>
      <link>https://www.sambaiz.net/en/article/480/</link>
      <pubDate>Tue, 23 Apr 2024 22:42:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/480/</guid>
      <description>&lt;p&gt;NewRelic&amp;rsquo;s alert destinations include Slack and PagerDuty, and you can specify these in Workflows and add additional data with NRQL.&#xA;However, in order to customize the alert text or perform other processing, it is necessary to handle it with Lambda, etc.&#xA;It can also receive the alert with Webhook &amp;amp; Custom header, but with EventBridge a public endpoint is not needed.&lt;/p&gt;&#xA;&lt;p&gt;Creating an EventBridge destination,&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/480/images/destination.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/480/images/destination_hu_e4d566d5a574ef48.png&#34; width=&#34;600&#34; height=&#34;360&#34; alt=&#34;Destination&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;p&gt;and setting as Notify destination of Workflows, when you select event source, it it hasn&amp;rsquo;t existed yet, the partner event source in EventBridge will be created.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Install newrelic-bundle to EKS cluster with CDK and monitor it</title>
      <link>https://www.sambaiz.net/en/article/466/</link>
      <pubDate>Sat, 13 Jan 2024 21:07:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/466/</guid>
      <description>&lt;p&gt;NewRelic &lt;a href=&#34;https://docs.newrelic.com/docs/kubernetes-pixie/kubernetes-integration/installation/kubernetes-integration-install-configure/&#34;&gt;Kubernetes Integration&lt;/a&gt; has various components, and &lt;a href=&#34;https://github.com/newrelic/helm-charts/tree/master/charts/nri-bundle&#34;&gt;nri-bundle&lt;/a&gt; Helm Chart bundles them.&#xA;Proceeding with Guided install, the parameters to pass are generated, so I copied them to CDK.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/466/images/guided_install.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/466/images/guided_install_hu_6a5d885c1facb0c.png&#34; width=&#34;600&#34; height=&#34;228&#34; alt=&#34;Guided install&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;p&gt;Looking at the chart, credentials can be passed as strings as it is or Secrets, so I imported them from SecretsManager with External Secrets.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/465/&#34;&gt;Install External Secrets Operator with CDK and make Secrets Manager data available as Kubernetes Secret - sambaiz-net&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Monitor AWS costs with New Relic</title>
      <link>https://www.sambaiz.net/en/article/424/</link>
      <pubDate>Sun, 13 Nov 2022 15:34:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/424/</guid>
      <description>&lt;h2 id=&#34;visualize-billing-metrics&#34;&gt;Visualize Billing metrics&lt;/h2&gt;&#xA;&lt;p&gt;There are Billing metrics in CloudWatch, so if you are sending all metrics in &lt;strong&gt;us-east-1&lt;/strong&gt; with Cloud Metric Streams, you can refer them with a query as follows.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/424/images/billing_metrics.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/424/images/billing_metrics_hu_fbef121af60b76f9.png&#34; width=&#34;600&#34; height=&#34;257&#34; alt=&#34;Billing metrics&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;SELECT&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;max&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;aws.billing.EstimatedCharges&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;min&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;aws.billing.EstimatedCharges&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;as&lt;/span&gt; daily_usage&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;FROM&lt;/span&gt; Metric&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;WHERE&lt;/span&gt; aws.Namespace &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;AWS/Billing&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;AND&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;metricName&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;aws.billing.EstimatedCharges&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;AND&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;aws.billing.ServiceName&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;IS&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;NOT&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;NULL&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FACET monthOf(&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;timestamp&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;), &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;aws.billing.ServiceName&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;TIMESERIES &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;day&lt;/span&gt; SLIDE &lt;span style=&#34;color:#ff79c6&#34;&gt;BY&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;day&lt;/span&gt; SINCE &lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt; week ago&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The values are accumulated monthly, so daily costs can be shown with taking differences from previous day&amp;rsquo;s one with &lt;a href=&#34;https://docs.newrelic.com/docs/query-your-data/nrql-new-relic-query-language/nrql-query-tutorials/create-smoother-charts-sliding-windows/&#34;&gt;Sliding window&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Aggregate logs of spark running on an EMR cluster with Fluent Bit</title>
      <link>https://www.sambaiz.net/en/article/416/</link>
      <pubDate>Sun, 04 Sep 2022 14:44:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/416/</guid>
      <description>&lt;p&gt;If Spark jobs run on Cluster mode, the logs are not outputted to step/ directory, so it is hard to check it on the console,&#xA;so try aggregating them to New Relic.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/409/&#34;&gt;Launch an EMR cluster with AWS CLI and run Spark applications - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/399/&#34;&gt;Monitor infrastructure and applications with New Relic - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;option-1-sending-logs-with-self-installed-fluent-bit&#34;&gt;Option 1. Sending logs with self installed fluent bit&lt;/h2&gt;&#xA;&lt;p&gt;Install &lt;a href=&#34;https://docs.fluentbit.io/manual/about/fluentd-and-fluent-bit&#34;&gt;Fluent Bit&lt;/a&gt; that is memory saving fluentd, and send logs with it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Characteristics of Metrics and Events in New Relic and queries in NRQL</title>
      <link>https://www.sambaiz.net/en/article/408/</link>
      <pubDate>Thu, 09 Jun 2022 20:05:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/408/</guid>
      <description>&lt;p&gt;New Relic categorizes telemetry data into Metrics, Events, Logs and Traces, called &lt;a href=&#34;https://docs.newrelic.com/docs/data-apis/understand-data/new-relic-data-types/&#34;&gt;MELT&lt;/a&gt;. Sent data can be queried in &lt;a href=&#34;https://docs.newrelic.com/docs/query-your-data/nrql-new-relic-query-language/get-started/introduction-nrql-new-relics-query-language/&#34;&gt;NRQL&lt;/a&gt;, standard SQL-like queries, shown on a dashboard, and targeted as alert conditions, but sometimes desired value can&amp;rsquo;t be obtained depending on the data type.&lt;/p&gt;&#xA;&lt;h2 id=&#34;metrics&#34;&gt;&lt;a href=&#34;https://docs.newrelic.com/docs/data-apis/understand-data/new-relic-data-types/#metrics&#34;&gt;Metrics&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;p&gt;Periodically aggregated and sent data. Having aggregated data, the transfer cost can be reduced and track the long-term trend, but there is a trade-off that the information required to aggregate later is lost.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Make asking about codes and debugging efficient with New Relic CodeStream</title>
      <link>https://www.sambaiz.net/en/article/403/</link>
      <pubDate>Wed, 04 May 2022 22:43:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/403/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://newrelic.com/codestream&#34;&gt;New Relic CodeStream&lt;/a&gt; is a plugin which is useful to ask about codes, create issue or PR and debug on IDE for IntelliJ, VSCode and so on.&lt;/p&gt;&#xA;&lt;h2 id=&#34;install&#34;&gt;Install&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://docs.newrelic.com/docs/codestream/start-here/install-codestream&#34;&gt;Install&lt;/a&gt; the plugin to IDE and set the integretion.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/403/images/integration.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/403/images/integration_hu_5eeab8a1a68e08bb.png&#34; width=&#34;327&#34; height=&#34;370&#34; alt=&#34;Integration settings&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;h2 id=&#34;comment&#34;&gt;Comment&lt;/h2&gt;&#xA;&lt;p&gt;You can comment to code blocks to ask about it, or create an issue.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/403/images/comment.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/403/images/comment_hu_9d466e81167c6294.png&#34; width=&#34;600&#34; height=&#34;283&#34; alt=&#34;Comment&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;p&gt;If Slack integration is set, following post is submited.&lt;/p&gt;</description>
    </item>
    <item>
      <title>About newrelic-lambda-extension and how it works telemetry without CloudWatch Logs</title>
      <link>https://www.sambaiz.net/en/article/401/</link>
      <pubDate>Fri, 08 Apr 2022 12:11:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/401/</guid>
      <description>&lt;p&gt;Theare are two methods &lt;a href=&#34;https://docs.newrelic.com/docs/serverless-function-monitoring/aws-lambda-monitoring/get-started/monitoring-aws-lambda-serverless-monitoring&#34;&gt;to send Lambda logs to New Relic&lt;/a&gt;.&#xA;First is a conventional method that uses a Lambda function &lt;a href=&#34;https://github.com/newrelic/aws-log-ingestion&#34;&gt;aws-log-ingestion&lt;/a&gt; to subscribe and transfer CloudWatch Logs, and second is a method that uses a Lambda layer &lt;a href=&#34;https://github.com/newrelic/newrelic-lambda-extension&#34;&gt;newrelic-lambda-extension&lt;/a&gt;. The latter send trace logs etc. without outputting to CloudWatch Logs so it can minimize the cost.&lt;/p&gt;&#xA;&lt;h2 id=&#34;install&#34;&gt;&lt;a href=&#34;https://github.com/newrelic/newrelic-lambda-extension#installation&#34;&gt;Install&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;p&gt;Doing &lt;code&gt;newrelic-lambda integrations install&lt;/code&gt;, Secret containing API Key Layer refers is deployed.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pip3 install newrelic-lambda-cli&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ newrelic-lambda integrations install &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --nr-account-id &amp;lt;account id&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --nr-api-key &amp;lt;api key&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --linked-account-name &amp;lt;linked account name&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --enable-license-key-secret &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;    --aws-profile &amp;lt;aws_profile_name&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    --aws-region &amp;lt;aws_region&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Validating New Relic credentials&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Retrieving integration license key&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Creating the AWS role &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; the New Relic AWS Lambda Integration&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Waiting &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; stack creation to complete... ✔️ Done&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;✔️ Created role &lt;span style=&#34;color:#ff79c6&#34;&gt;[&lt;/span&gt;NewRelicLambdaIntegrationRole_*****&lt;span style=&#34;color:#ff79c6&#34;&gt;]&lt;/span&gt; in AWS account.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Linking New Relic account to AWS account&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;✔️ Cloud integrations account &lt;span style=&#34;color:#ff79c6&#34;&gt;[&lt;/span&gt;*****&lt;span style=&#34;color:#ff79c6&#34;&gt;]&lt;/span&gt; already exists in New Relic account &lt;span style=&#34;color:#ff79c6&#34;&gt;[&lt;/span&gt;*****&lt;span style=&#34;color:#ff79c6&#34;&gt;]&lt;/span&gt; with IAM role &lt;span style=&#34;color:#ff79c6&#34;&gt;[&lt;/span&gt;arn:aws:iam::*****:role/newrelic&lt;span style=&#34;color:#ff79c6&#34;&gt;]&lt;/span&gt;.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Enabling Lambda integration on the link between New Relic and AWS&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;✔️ Cloud integrations account &lt;span style=&#34;color:#ff79c6&#34;&gt;[&lt;/span&gt;*****&lt;span style=&#34;color:#ff79c6&#34;&gt;]&lt;/span&gt; is using CloudWatch Metric Streams&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Creating the managed secret &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; the New Relic License Key&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Setting up NewRelicLicenseKeySecret stack in region: us-east-1&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Creating change set: NewRelicLicenseKeySecret-CREATE-1648894216&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Waiting &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; change &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;set&lt;/span&gt; creation to complete, this may take a minute... Waiting &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; change &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;set&lt;/span&gt; to finish execution. This may take a minute... ✔️ Done&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Creating newrelic-log-ingestion Lambda &lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; in AWS account&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Setting up &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;newrelic-log-ingestion&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; in region: us-east-1&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Fetching new CloudFormation template url&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Creating change set: NewRelicLogIngestion-CREATE-1648894271&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Waiting &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; change &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;set&lt;/span&gt; creation to complete, this may take a minute... Waiting &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; change &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;set&lt;/span&gt; to finish execution. This may take a minute... ✖️ Failed to create &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;newrelic-log-ingestion&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Status&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;✖️ Install Incomplete. See messages above &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; details.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Grant the read policy for arn which is exported by the stack and set the layer and environment values.&#xA;This time, output debug logs to easy to track the process.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Query resources with NerdGraph, New Relic&#39;s GraphQL API</title>
      <link>https://www.sambaiz.net/en/article/400/</link>
      <pubDate>Fri, 01 Apr 2022 22:02:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/400/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://docs.newrelic.com/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/&#34;&gt;NerdGraph&lt;/a&gt; is New Relic&amp;rsquo;s GraphQL API and it can be used for querying resources or migrating it.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -X POST https://api.newrelic.com/graphql &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;-H &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: application/json&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;-H &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;API-Key: *****&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;-d &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;{ &amp;#34;query&amp;#34;:  &amp;#34;{ requestContext { userId apiKey } actor { user { name } } }&amp;#34; }&amp;#39;&lt;/span&gt; | jq&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;actor&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Taiki Sakamoto&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#ff79c6&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;}&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;requestContext&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ff79c6&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;apiKey&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;*****&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;userId&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;*****&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If select resources in &lt;a href=&#34;https://docs.newrelic.com/docs/apis/nerdgraph/get-started/introduction-new-relic-nerdgraph/#explorer&#34;&gt;GraphiQL explorer&lt;/a&gt;, the query is generated.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/400/images/graphql-explorer.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/400/images/graphql-explorer_hu_ffc9a71c21e9c0bd.png&#34; width=&#34;600&#34; height=&#34;226&#34; alt=&#34;GraphiQL explorer&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;p&gt;It can be also executed from the client library.&#xA;&lt;a href=&#34;https://github.com/newrelic/newrelic-client-go/blob/v0.74.2/pkg/users/types.go#L11&#34;&gt;Structs&lt;/a&gt; are auto generated by &lt;a href=&#34;https://github.com/newrelic/tutone&#34;&gt;tutone&lt;/a&gt;&#xA;with GraphQL schema introspection and &lt;a href=&#34;https://github.com/newrelic/newrelic-client-go/blob/v0.74.2/templates/typegen/types.go.tmpl&#34;&gt;template&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Monitor infrastructure and applications with New Relic</title>
      <link>https://www.sambaiz.net/en/article/399/</link>
      <pubDate>Wed, 30 Mar 2022 19:11:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/399/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://newrelic.com/&#34;&gt;New Relic&lt;/a&gt; is a SaaS that monitors infrastructure and applications, and there is Datadog as a similar service.&#xA;It seems that the &lt;a href=&#34;https://newrelic.com/pricing&#34;&gt;pricing plans&lt;/a&gt; were &lt;a href=&#34;https://newrelic.com/jp/blog/nerdlog/new-relic-one-observability-made-simple&#34;&gt;changed&lt;/a&gt; drastically in 2020, and it charges according to the transfer volume and the number of admin users. Therefore compared to Datadog, which &lt;a href=&#34;https://www.datadoghq.com/ja/pricing/&#34;&gt;charges&lt;/a&gt; for hosts and additional features, there is an advantage when managing a large number of instances with a small number of people.&#xA;And Datadog pricing plans are relatively complex and hard to estimate how much the bill will be in an environment where the number of instances increases and decreases frequently, while New Relic&amp;rsquo;s plans are easy.&#xA;Even if you try to new features, the unit price will not increase, so you can easily try it.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
