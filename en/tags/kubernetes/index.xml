<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kubernetes on sambaiz-net</title>
    <link>https://www.sambaiz.net/en/tags/kubernetes/</link>
    <description>Recent content in Kubernetes on sambaiz-net</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>sambaiz-net</copyright>
    <lastBuildDate>Mon, 26 Feb 2024 23:55:00 +0900</lastBuildDate>
    <atom:link href="https://www.sambaiz.net/en/tags/kubernetes/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Install AWS Load Balancer Controller on EKS cluster with CDK and set up ALB Ingress</title>
      <link>https://www.sambaiz.net/en/article/471/</link>
      <pubDate>Mon, 26 Feb 2024 23:55:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/471/</guid>
      <description>AWS Load Balancer Controller is a controller that creates and manages ELBs for Kubernetes resources. It can be installed with a service account granted the required policies and Helm Chart.&#xA;const role = new iam.Role(scope, &amp;#39;LoadBalancerServiceAccountRole&amp;#39;, { assumedBy: new iam.WebIdentityPrincipal( cluster.openIdConnectProvider.openIdConnectProviderArn, { StringEquals: new cdk.CfnJson( scope, &amp;#39;LoadBalancerServiceAccountRoleStringEquals&amp;#39;, { value: { [`${cluster.clusterOpenIdConnectIssuer}:aud`]: &amp;#39;sts.amazonaws.com&amp;#39;, [`${cluster.clusterOpenIdConnectIssuer}:sub`]: &amp;#39;system:serviceaccount:kube-system:aws-load-balancer-controller&amp;#39;, }, } ), } ), inlinePolicies: { &amp;#39;loadbalancercontroller&amp;#39;: iam.PolicyDocument.fromJson({ &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34;, &amp;#34;Statement&amp;#34;: [ { &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;, &amp;#34;Action&amp;#34;: [ &amp;#34;iam:CreateServiceLinkedRole&amp;#34; ], &amp;#34;Resource&amp;#34;: &amp;#34;*&amp;#34;, &amp;#34;Condition&amp;#34;: { &amp;#34;StringEquals&amp;#34;: { &amp;#34;iam:AWSServiceName&amp;#34;: &amp;#34;elasticloadbalancing.</description>
    </item>
    <item>
      <title>Live reload Go application running on local K8s using air and remote debug using delve from VSCode</title>
      <link>https://www.sambaiz.net/en/article/470/</link>
      <pubDate>Wed, 21 Feb 2024 19:41:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/470/</guid>
      <description>Live reload using air air is a tool that performs live reload for Go applications. $ go install github.com/cosmtrek/air@latest air init makes a settings file. $ air init $ cat .air.toml root = &amp;#34;.&amp;#34; tmp_dir = &amp;#34;tmp&amp;#34; [build] args_bin = [] bin = &amp;#34;./tmp/main&amp;#34; cmd = &amp;#34;go build -o ./tmp/main .&amp;#34; delay = 1000 ... For server code as follows, package main import ( &amp;#34;context&amp;#34; &amp;#34;log&amp;#34; &amp;#34;net/http&amp;#34; &amp;#34;os/signal&amp;#34; &amp;#34;syscall&amp;#34; )</description>
    </item>
    <item>
      <title>Describe resources required only in the environment with Kustomize Component</title>
      <link>https://www.sambaiz.net/en/article/469/</link>
      <pubDate>Thu, 15 Feb 2024 09:41:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/469/</guid>
      <description>I tried to run a DB only in the local environment with Kustomize, but an error occurred as follows. kustomizeでkubernetesのmanifestを環境ごとに生成する - sambaiz-net $ tree manifest manifest ├── base │ ├</description>
    </item>
    <item>
      <title>Install newrelic-bundle to EKS cluster with CDK and monitor it</title>
      <link>https://www.sambaiz.net/en/article/466/</link>
      <pubDate>Sat, 13 Jan 2024 21:07:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/466/</guid>
      <description>NewRelic Kubernetes Integration has various components, and nri-bundle Helm Chart bundles them. Proceeding with Guided install, the parameters to pass are generated, so I copied them to CDK. Looking at the chart, credentials can be passed as strings as it is or Secrets, so I imported them from SecretsManager with External Secrets. Install External Secrets Operator with CDK and make Secrets Manager data available as Kubernetes Secret - sambaiz-net const</description>
    </item>
    <item>
      <title>Install External Secrets Operator with CDK and make Secrets Manager data available as Kubernetes Secret</title>
      <link>https://www.sambaiz.net/en/article/465/</link>
      <pubDate>Thu, 11 Jan 2024 20:15:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/465/</guid>
      <description>External Secrets Operator (ESO) is an Operator that creates Kubernetes Secrets from secrets stored in external services, and is the successor to the deprecated Kubernetes External Secrets (KES). In this article, I install it with CDK and create a Secret that contains data from Secrets Manager. First, create an IAM Role to be granted to a ServiceAccount and install the operator with Helm Chart. const externalSecretsRole = new iam.Role(this, &amp;#39;ExternalSecretsRole&amp;#39;,</description>
    </item>
    <item>
      <title>IP address exhaustion with EKS cluster and migration to IPv6</title>
      <link>https://www.sambaiz.net/en/article/460/</link>
      <pubDate>Fri, 15 Dec 2023 01:02:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/460/</guid>
      <description>When I ran a large application on an EKS cluster, the subnet&amp;rsquo;s IP addresses ran out. Reason for IP address exhaustion Pod IP addresses are assigned by ipamd (IP Address Management Daemon) of VPC CNI, and these are from the instance&amp;rsquo;s secondary IP addresses. The number of secondary IP addresses are controlled with WARM_ENI_TARGET (Default: 1), which is the number of spare ENIs, or WARM_IP_TARGET (Default: None), which is the</description>
    </item>
    <item>
      <title>Setting security groups for EKS cluster&#39;s nodes created with CDK</title>
      <link>https://www.sambaiz.net/en/article/459/</link>
      <pubDate>Tue, 05 Dec 2023 20:59:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/459/</guid>
      <description>aws_eks.Cluster in CDK has a securityGroup field, but this is an SG associated with the ENI of the control plane, not the node. If it is not passed, it will be automatically created.&#xA;Then, where is the SG settings for EKS cluster&amp;rsquo;s nodes? It is in the node group&amp;rsquo;s auto scaling group.&#xA;When you create an EKS cluster with CDK and DefaultCapacityType is NODEGROUP, which is the default, manged node group is created, which consists of defaultCapacity nodes and EKS performs drain etc.</description>
    </item>
    <item>
      <title>Install Karpenter on an EKS cluster with CDK to auto-scale flexibility and quickly</title>
      <link>https://www.sambaiz.net/en/article/455/</link>
      <pubDate>Fri, 13 Oct 2023 20:35:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/455/</guid>
      <description>Karpenter is an OSS that scales a Kubernetes cluster developed by AWS. Compared to Cluster Autoscaler, it can perform fast and flexible provisioning not through Auto Scaling Group. It supports only EKS so far, but it seems to have possibility to support other cloud providers.&#xA;(PS: 2023-12-06) now available on AKS&#xA;In this article, I install Karpenter on an EKS cluster with CDK, and confirm the cluster to be auto-scaled when the number of replicas is changed.</description>
    </item>
    <item>
      <title>Launch an EKS cluster and register it to EMR on EKS with CDK to run Spark jobs</title>
      <link>https://www.sambaiz.net/en/article/434/</link>
      <pubDate>Mon, 02 Jan 2023 14:53:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/434/</guid>
      <description>EMR on EKS is a feature to run Spark on EKS. While normal EMR also manages Hadoop clusters, EMR on EKS is only responsible for starting containers. Launch an EMR cluster with AWS CLI and run Spark applications - sambaiz-net By running on Kubernetes, you can use tools and functions for Kubernetes to manage and monitor, and utilize resources left over if you have an existing cluster. It also enables</description>
    </item>
  </channel>
</rss>
