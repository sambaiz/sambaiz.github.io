<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Database on sambaiz-net</title>
    <link>https://www.sambaiz.net/en/tags/database/</link>
    <description>Recent content in Database on sambaiz-net</description>
    <generator>Hugo</generator>
    <language>en</language>
    <copyright>sambaiz-net</copyright>
    <lastBuildDate>Fri, 02 Jan 2026 23:43:00 +0900</lastBuildDate>
    <atom:link href="https://www.sambaiz.net/en/tags/database/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Apply Row and Column Level Access Control on Glue Data Catalog Tables with Lake Formation in CDK</title>
      <link>https://www.sambaiz.net/en/article/556/</link>
      <pubDate>Fri, 02 Jan 2026 23:43:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/556/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://docs.aws.amazon.com/lake-formation/latest/dg/what-is-lake-formation.html&#34;&gt;Lake Formation&lt;/a&gt; is a service that provides RDBMS-like permission model access control for Glue Data Catalog metadata and S3 data. It &lt;a href=&#34;https://docs.aws.amazon.com/lake-formation/latest/dg/how-it-works.html&#34;&gt;handles&lt;/a&gt; transparent permission checks when returning metadata to engines, and issues temporary credentials for S3 access. Since the objects themselves can still be retrieved, row and column level filtering is the &lt;a href=&#34;https://docs.aws.amazon.com/lake-formation/latest/dg/limitations.html&#34;&gt;engine&amp;rsquo;s responsibility&lt;/a&gt;. Care should be taken when accessing from non-AWS managed environments like EMR.&lt;/p&gt;&#xA;&lt;p&gt;Set up the data lake location to be governed by Lake Formation and create a service role.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Handle Aurora PostgreSQL Triggers with Lambda</title>
      <link>https://www.sambaiz.net/en/article/555/</link>
      <pubDate>Thu, 01 Jan 2026 23:41:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/555/</guid>
      <description>&lt;p&gt;PostgreSQL supports BEFORE/AFTER triggers like MySQL, and can execute Python if &lt;a href=&#34;https://www.postgresql.org/docs/current/plpython.html&#34;&gt;PL/Python&lt;/a&gt; is installed. It also has a Pub/Sub feature (NOTIFY/LISTEN) similar to Redis, which combined with triggers enables real-time notification of data changes.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;FUNCTION&lt;/span&gt; notify_change() &lt;span style=&#34;color:#ff79c6&#34;&gt;RETURNS&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;TRIGGER&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;AS&lt;/span&gt; $$&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;BEGIN&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    PERFORM pg_notify(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;data_changes&amp;#39;&lt;/span&gt;, json_build_object(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;table&amp;#39;&lt;/span&gt;, TG_TABLE_NAME, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;id&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;NEW&lt;/span&gt;.id)::&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;text&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;RETURN&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;NEW&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;END&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$$ &lt;span style=&#34;color:#ff79c6&#34;&gt;LANGUAGE&lt;/span&gt; plpgsql;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;TRIGGER&lt;/span&gt; users_notify&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;AFTER&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;INSERT&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;ON&lt;/span&gt; users&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;FOR&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;EACH&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;ROW&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#ff79c6&#34;&gt;EXECUTE&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;FUNCTION&lt;/span&gt; notify_change();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;LISTEN&lt;/span&gt; data_changes; &lt;span style=&#34;color:#6272a4&#34;&gt;-- from another session&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;INSERT&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;INTO&lt;/span&gt; users (name) &lt;span style=&#34;color:#ff79c6&#34;&gt;VALUES&lt;/span&gt; (&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Alice&amp;#39;&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;-- Notified: {&amp;#34;table&amp;#34;: &amp;#34;users&amp;#34;, &amp;#34;id&amp;#34;: 1}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This allows programmatic handling of triggers even in databases like Aurora where PL/Python cannot be installed.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Execute SQL and Visualize Data with Apache Superset</title>
      <link>https://www.sambaiz.net/en/article/553/</link>
      <pubDate>Sun, 21 Dec 2025 23:55:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/553/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://github.com/apache/superset&#34;&gt;Apache Superset&lt;/a&gt; is an open-source BI tool &lt;a href=&#34;https://medium.com/airbnb-engineering/supercharging-apache-superset-b1a2393278bd&#34;&gt;created at Airbnb&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;When you run it with &lt;a href=&#34;https://github.com/apache/superset/blob/5.0.0/docker-compose-image-tag.yml&#34;&gt;Docker Compose&lt;/a&gt;, it starts up Superset along with Redis and PostgreSQL, and &lt;a href=&#34;https://github.com/apache/superset/blob/5.0.0/docker/docker-init.sh&#34;&gt;performs initial setup&lt;/a&gt; with &lt;code&gt;superset db upgrade&lt;/code&gt;, &lt;code&gt;superset fab create-admin&lt;/code&gt;, and &lt;code&gt;superset init&lt;/code&gt;.&#xA;When &lt;a href=&#34;https://superset.apache.org/docs/installation/upgrading-superset/#upgrading-the-metadata-database&#34;&gt;upgrading versions&lt;/a&gt;, migration is performed by running db upgrade &amp;amp; init.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git clone --depth&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt; https://github.com/apache/superset.git&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;cd&lt;/span&gt; superset&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ git checkout tags/5.0.0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ docker compose -f docker-compose-image-tag.yml up&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# open http://localhost:9000 admin/admin&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Superset is similar to Redash, where you write SQL to create charts and add them to dashboards, but it offers a much wider variety of chart types and can be extended with &lt;a href=&#34;https://github.com/apache/superset/wiki/Superset-Third%E2%80%90Party-Plugins-Directory&#34;&gt;plugins&lt;/a&gt;.&#xA;By installing libraries like pyathena and pydynamodb, you can connect to &lt;a href=&#34;https://superset.apache.org/docs/configuration/databases/&#34;&gt;various databases&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Understanding the Differences Between Direct SQL and Question Query Builder in Metabase</title>
      <link>https://www.sambaiz.net/en/article/551/</link>
      <pubDate>Sat, 13 Dec 2025 23:55:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/551/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://github.com/metabase/metabase&#34;&gt;Metabase&lt;/a&gt; is an OSS BI tool that allows you to retrieve and visualize data by writing queries, similar to Redash.&#xA;In addition to self-hosting, there&amp;rsquo;s also a cloud version, and with the &lt;a href=&#34;https://www.metabase.com/pricing/&#34;&gt;Pro plan or higher&lt;/a&gt;, you can render charts using the React SDK.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/article/141/&#34;&gt;Redashでデータを可視化する - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ docker run -d -p 3000:3000 --name metabase metabase/metabase&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It covers most major OSS and cloud databases, but unlike Redash, it doesn&amp;rsquo;t support DynamoDB or Google Sheets.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Check the behavior of MySQL metadata locks that occur during transactions</title>
      <link>https://www.sambaiz.net/en/article/546/</link>
      <pubDate>Sun, 09 Nov 2025 14:14:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/546/</guid>
      <description>&lt;p&gt;MySQL has &lt;a href=&#34;https://dev.mysql.com/doc/refman/8.0/en/metadata-locking.html&#34;&gt;metadata locks&lt;/a&gt; that target table schemas and other objects in addition to &lt;a href=&#34;https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html&#34;&gt;InnoDB locks&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/article/158/&#34;&gt;MySQL InnoDBのロックの挙動 - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Start MySQL using Docker.&#xA;Since tx_isolation was &lt;a href=&#34;https://dev.mysql.com/doc/refman/8.0/en/mysql-nutshell.html&#34;&gt;removed in MySQL 8.0&lt;/a&gt;, I use transaction_isolation to check the transaction isolation level.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ docker run -d --name mysql-lock-test -e &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;MYSQL_ALLOW_EMPTY_PASSWORD&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;yes -e &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;MYSQL_DATABASE&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;testdb mysql:8.0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ docker &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;exec&lt;/span&gt; -it mysql-lock-test mysql testdb&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mysql&amp;gt; SELECT @@transaction_isolation;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+-------------------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| @@transaction_isolation |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+-------------------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;| REPEATABLE-READ         |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;+-------------------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt; row in &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;set&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;(&lt;/span&gt;0.00 sec&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Create a table, insert some data, and SELECT from it. Currently, there are no metadata or InnoDB locks.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Adding Custom Rules to the SQL Lint Tool SQLFluff</title>
      <link>https://www.sambaiz.net/en/article/519/</link>
      <pubDate>Thu, 02 Jan 2025 11:55:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/519/</guid>
      <description>&lt;p&gt;The SQL lint tool sqlfluff has a mechanism to add &lt;a href=&#34;https://docs.sqlfluff.com/en/2.2.0/developingrules.html&#34;&gt;custom rules&lt;/a&gt; via plugins.&lt;/p&gt;&#xA;&lt;p&gt;Create a plugin by referring to the example plugin.&lt;/p&gt;&#xA;&lt;p&gt;Implement &lt;a href=&#34;https://github.com/sqlfluff/sqlfluff/blob/2.2.0/src/sqlfluff/core/rules/base.py#L761&#34;&gt;_eval()&lt;/a&gt; that evaluates rules and returns a &lt;a href=&#34;https://github.com/sqlfluff/sqlfluff/blob/2.2.0/src/sqlfluff/core/rules/base.py#L72&#34;&gt;LintResult&lt;/a&gt; in a Rule_XXXX class that inherits from &lt;a href=&#34;https://github.com/sqlfluff/sqlfluff/blob/2.2.0/src/sqlfluff/core/rules/base.py#L670&#34;&gt;BaseRule&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;# my_custom_rules/rules.py&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; sqlfluff.core.rules &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; (&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    BaseRule,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    LintResult,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    RuleContext,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;from&lt;/span&gt; sqlfluff.core.rules.crawlers &lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; SegmentSeekerCrawler&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;Rule_Example_L001&lt;/span&gt;(BaseRule):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&amp;#39;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;    test rule&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;    &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    groups &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;all&amp;#34;&lt;/span&gt;,)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    config_keywords &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;aaa&amp;#34;&lt;/span&gt;]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    crawl_behaviour &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; SegmentSeekerCrawler({&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;select_clause&amp;#34;&lt;/span&gt;})&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    is_fix_compatible &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;True&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;__init__&lt;/span&gt;(&lt;span style=&#34;font-style:italic&#34;&gt;self&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;args, &lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;kwargs):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;super&lt;/span&gt;()&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;__init__&lt;/span&gt;(&lt;span style=&#34;color:#ff79c6&#34;&gt;*&lt;/span&gt;args, &lt;span style=&#34;color:#ff79c6&#34;&gt;**&lt;/span&gt;kwargs)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;---- init ----&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;parameter: aaa=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;font-style:italic&#34;&gt;self&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;aaa&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;_eval&lt;/span&gt;(&lt;span style=&#34;font-style:italic&#34;&gt;self&lt;/span&gt;, context: RuleContext):&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;---- eval ----&amp;#34;&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#ff79c6&#34;&gt;for&lt;/span&gt; seg &lt;span style=&#34;color:#ff79c6&#34;&gt;in&lt;/span&gt; context&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;segment&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;segments:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;print&lt;/span&gt;(seg&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get_type(), seg&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;raw&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;lower())&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; seg&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;get_type() &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;select_clause_element&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;and&lt;/span&gt; seg&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;raw&lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt;lower() &lt;span style=&#34;color:#ff79c6&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;b&amp;#39;&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; LintResult(&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    anchor&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;seg,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    description&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Don&amp;#39;t select b!&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                )&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Return this class in get_rules() in __init__.py.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Copy and Query S3 Data in Snowflake</title>
      <link>https://www.sambaiz.net/en/article/518/</link>
      <pubDate>Tue, 31 Dec 2024 23:57:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/518/</guid>
      <description>&lt;p&gt;Snowflake is a fully managed data platform that runs on AWS, GCP, and Azure. It &lt;a href=&#34;https://docs.snowflake.com/en/user-guide/intro-key-concepts#database-storage&#34;&gt;stores data&lt;/a&gt; in columnar format, is built with &lt;a href=&#34;https://docs.snowflake.com/en/user-guide/intro-key-concepts#snowflake-architecture&#34;&gt;hybrid shared-nothing architecture&lt;/a&gt; where nodes cache portions of shared datasets locally to suppress network traffic, and does automatic &lt;a href=&#34;https://docs.snowflake.com/en/user-guide/tables-clustering-micropartitions&#34;&gt;micro-partitioning&lt;/a&gt; for fine-grained pruning, enabling efficient large-scale query execution.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/386/&#34;&gt;Columnar format Parquet structure and read optimization - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;In addition to eliminating the need to manage infrastructure like Hadoop clusters, it offers features such as &lt;a href=&#34;https://docs.snowflake.com/en/user-guide/data-time-travel&#34;&gt;time travel&lt;/a&gt; similar to BigQuery and easily &lt;a href=&#34;https://docs.snowflake.com/en/user-guide/data-sharing-intro&#34;&gt;data sharing&lt;/a&gt; between accounts.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Compare Redshift Serverless and Athena performances by TPC-DS queries</title>
      <link>https://www.sambaiz.net/en/article/397/</link>
      <pubDate>Sun, 20 Feb 2022 01:49:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/397/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/392/&#34;&gt;Redshift Serverless and other serverless aggregation services, run query with Glue Data Catalog - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Compare the performance between Redshift Serverless (Preview) and Athena by queries of TPC-DS, which is a database benchmark.&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;(PS: 2022-07-13) Following values were calculated at the rate at the time of preview. When it became &lt;a href=&#34;https://aws.amazon.com/jp/blogs/aws/amazon-redshift-serverless-now-generally-available-with-new-capabilities/&#34;&gt;GA&lt;/a&gt;, the rate dropped by about 30%.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/393/&#34;&gt;Generate data with TPC-DS Connector for Glue - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;First, executed the following query to the json and parquet data.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Generate data with TPC-DS Connector for Glue</title>
      <link>https://www.sambaiz.net/en/article/393/</link>
      <pubDate>Tue, 18 Jan 2022 21:26:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/393/</guid>
      <description>&lt;p&gt;Previously, I tried to generate 250GB of data with Athena&amp;rsquo;s TPC-DS Connector and output it to S3 but it timed out even if I increased the Lambda resource to the maximum, so I do it with Glue this time.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/391/&#34;&gt;Generate data with TPC-DS Connector in Athena&amp;rsquo;s Federated Query - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;Subscribe and activate &lt;a href=&#34;https://aws.amazon.com/marketplace/pp/prodview-xtty6azr4xgey&#34;&gt;TPC-DS connector&lt;/a&gt; for Glue.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/393/images/activate.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/393/images/activate_hu_1b9510d29755d3c6.png&#34; width=&#34;450&#34; height=&#34;370&#34; alt=&#34;Activate TPC-DS connector for Glue&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;p&gt;Write a script like following. The scale is in GB, the same as Athena&amp;rsquo;s one.&#xA;Tables are added to a catalog at the time of upload.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Generate data with TPC-DS Connector in Athena&#39;s Federated Query</title>
      <link>https://www.sambaiz.net/en/article/391/</link>
      <pubDate>Sat, 25 Dec 2021 23:55:00 +0900</pubDate>
      <guid>https://www.sambaiz.net/en/article/391/</guid>
      <description>&lt;p&gt;Athena&amp;rsquo;s &lt;a href=&#34;https://docs.aws.amazon.com/athena/latest/ug/connect-to-a-data-source.html&#34;&gt;Federated Query&lt;/a&gt; is a feature to execute queries on non-S3 data sources such as DynamoDB and RDS through Lambda function which is a data sources connector.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.sambaiz.net/en/article/402/&#34;&gt;Implement Athena&amp;rsquo;s data source connectors and user defined functions (UDF) - sambaiz-net&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;img_container&#34;&gt;&lt;a href=&#34;https://www.sambaiz.net/article/391/images/datasource.png&#34;&gt;&#xA;    &lt;img style=&#34;max-width: 100%; width: auto; height: auto;&#34; src=&#34;https://www.sambaiz.net/article/391/images/datasource_hu_12eac98283ea00bd.png&#34; width=&#34;372&#34; height=&#34;370&#34; alt=&#34;Data sources&#34;&gt;&#xA;&lt;/a&gt;&lt;/div&gt;&#xA;&#xA;&#xA;&lt;p&gt;This article uses TPC-DS Connector in the &lt;a href=&#34;https://github.com/awslabs/aws-athena-query-federation/tree/master/athena-tpcds&#34;&gt;AWS official repository&lt;/a&gt;. It generates the data of &lt;a href=&#34;http://www.tpc.org/tpcds/&#34;&gt;TPC-DS&lt;/a&gt;, which is a database benchmark in Decision Support.&lt;/p&gt;&#xA;&lt;p&gt;Although it is in the official repository, it is a custom connector, so you need to build it yourself. Basically, you can do it according to &lt;a href=&#34;https://github.com/awslabs/aws-athena-query-federation/tree/master/athena-tpcds#readme&#34;&gt;README&lt;/a&gt;, but it fails to build in jdk16, so install jdk8.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
